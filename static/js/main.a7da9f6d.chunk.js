(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(23),c=s.n(r),i=(s(55),s(4)),l=s(3),o=s(25),d=s(6),h=s.n(d);var j=e=>{e?h.a.defaults.headers.common.Authorization=e:delete h.a.defaults.headers.common.Authorization};const b="GET_ERRORS",p="USER_LOADING",m="SET_CURRENT_USER",u=e=>({type:m,payload:e}),x=()=>e=>{localStorage.removeItem("jwtToken"),j(!1),e(u({}))};var O=s(12),v=s(15),g=s(49),N=s(7);const w=s(78),f={isAuthenticated:!1,user:{},loading:!1};const y={};var C=Object(v.c)({auth:function(e=f,t){switch(t.type){case m:return Object(N.a)(Object(N.a)({},e),{},{isAuthenticated:!w(t.payload),user:t.payload});case p:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});default:return e}},errors:function(e=y,t){switch(t.type){case b:return t.payload;default:return e}}});const S=[g.a];var k=Object(v.e)(C,{},Object(v.d)(Object(v.a)(...S),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||v.d)),_=(s(79),s(0));function R(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("li",{children:Object(_.jsx)(i.b,{to:"/restaurants/create",children:"Create Restaurants And Meals"})}),Object(_.jsx)("li",{children:Object(_.jsx)(i.b,{to:"/restaurants",children:"All Restaurants"})}),Object(_.jsx)("li",{children:Object(_.jsx)(i.b,{to:"/orders",children:"Your Orders"})}),Object(_.jsxs)("li",{children:[Object(_.jsx)("b",{children:"Hey there,"})," ",(e.user.name||"").split(" ")[0]]}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{onClick:e.onClick,children:"Logout"})})]})}class D extends a.Component{constructor(...e){super(...e),this.onLogoutClick=e=>{e.preventDefault(),this.props.logoutUser()}}render(){const e=this.props.auth.user;return Object(_.jsxs)(n.a.Fragment,{children:[Object(_.jsx)("div",{className:"navbar-fixed",children:Object(_.jsx)("nav",{className:"z-depth-0",children:Object(_.jsxs)("div",{className:"nav-wrapper",children:[Object(_.jsxs)(i.b,{to:"/",className:"brand-logo",children:[Object(_.jsx)("i",{className:"material-icons",children:"code"}),"Tomato"]}),Object(_.jsx)("div",{"data-target":"mobile-demo",className:"sidenav-trigger show-on-med-and-down",children:Object(_.jsx)("i",{className:"material-icons",children:"menu"})}),0!==Object.keys(e||{}).length?Object(_.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down list-margin",children:Object(_.jsx)(R,{user:e,onClick:this.onLogoutClick})}):null]})})}),Object(_.jsx)("ul",{className:"sidenav",id:"mobile-demo",children:Object(_.jsx)(R,{user:e,onClick:this.onLogoutClick})})]})}}var T=Object(O.b)((e=>({auth:e.auth})),{logoutUser:x})(D);class E extends a.Component{render(){return Object(_.jsx)("div",{style:{height:"75vh"},className:"container valign-wrapper",children:Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("div",{className:"col s12 center-align",children:[Object(_.jsxs)("h4",{children:["Order food from"," ",Object(_.jsx)("span",{style:{fontFamily:"monospace"},children:"Tomato"})]}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"col s6",children:Object(_.jsx)(i.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Register"})}),Object(_.jsx)("div",{className:"col s6",children:Object(_.jsx)(i.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text",children:"Log In"})})]})})})}}var I=E,A=s(16),F=s.n(A);class L extends a.Component{constructor(){super(),this.onChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onSubmit=e=>{e.preventDefault();const t=this.state,s=t.password,a=t.role,n=t.password2,r=t.email,c={name:t.name,email:r,password:s,password2:n,role:a},i=this.props,l=i.history;(0,i.registerUser)(c,l)},this.onCheckboxChange=e=>{this.setState({role:e.target.checked?"manager":"user"})},this.state={name:"",email:"",password:"",password2:"",errors:{},role:"user"}}componentDidMount(){this.props.auth.isAuthenticated&&this.props.history.push("/restaurants")}componentWillReceiveProps(e){e.errors&&this.setState({errors:e.errors})}render(){const e=this.state,t=e.password,s=e.role,a=e.password2,n=e.email,r=e.name,c=e.errors;return Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("div",{className:"col s8 offset-s2",children:[Object(_.jsxs)(i.b,{to:"/",className:"btn-flat waves-effect",children:[Object(_.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(_.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(_.jsxs)("h4",{children:[Object(_.jsx)("b",{children:"Register"})," below"]}),Object(_.jsxs)("p",{className:"grey-text text-darken-1",children:["Already have an account? ",Object(_.jsx)(i.b,{to:"/login",children:"Log in"})]})]}),Object(_.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:r,error:c.name,id:"name",type:"text",className:F()("",{invalid:c.name})}),Object(_.jsx)("label",{htmlFor:"name",children:"Name"}),Object(_.jsx)("span",{className:"red-text",children:c.name})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:n,error:c.email,id:"email",type:"email",className:F()("",{invalid:c.email})}),Object(_.jsx)("label",{htmlFor:"email",children:"Email"}),Object(_.jsx)("span",{className:"red-text",children:c.email})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:t,error:c.password,id:"password",type:"password",className:F()("",{invalid:c.password})}),Object(_.jsx)("label",{htmlFor:"password",children:"Password"}),Object(_.jsx)("span",{className:"red-text",children:c.password})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:a,error:c.password2,id:"password2",type:"password",className:F()("",{invalid:c.password2})}),Object(_.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(_.jsx)("span",{className:"red-text",children:c.password2})]}),Object(_.jsxs)("label",{style:{margin:15},htmlFor:"role",children:[Object(_.jsx)("input",{onChange:this.onCheckboxChange,value:"manager"===s,error:c.role,id:"role",type:"checkbox",className:F()("",{invalid:c.role})}),Object(_.jsx)("span",{children:" Is Restaurant Manager"})]}),Object(_.jsx)("span",{className:"red-text",children:c.role}),Object(_.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(_.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Sign up"})})]})]})})})}}var M=Object(O.b)((e=>({auth:e.auth,errors:e.errors})),{registerUser:(e,t)=>s=>{h.a.post("/api/users/register",e).then((e=>t.push("/login"))).catch((e=>s({type:b,payload:e.response.data})))}})(Object(l.g)(L));class U extends a.Component{constructor(){super(),this.onChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onSubmit=e=>{e.preventDefault();const t={email:this.state.email,password:this.state.password};this.props.loginUser(t)},this.state={email:"",password:"",errors:{}}}componentDidMount(){this.props.auth.isAuthenticated&&this.props.history.push("/restaurants")}componentWillReceiveProps(e){e.auth.isAuthenticated&&this.props.history.push("/restaurants"),e.errors&&this.setState({errors:e.errors})}render(){const e=this.state.errors;return Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{style:{marginTop:"4rem"},className:"row",children:Object(_.jsxs)("div",{className:"col s8 offset-s2",children:[Object(_.jsxs)(i.b,{to:"/",className:"btn-flat waves-effect",children:[Object(_.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(_.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(_.jsxs)("h4",{children:[Object(_.jsx)("b",{children:"Login"})," below"]}),Object(_.jsxs)("p",{className:"grey-text text-darken-1",children:["Don't have an account? ",Object(_.jsx)(i.b,{to:"/register",children:"Register"})]})]}),Object(_.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:F()("",{invalid:e.email||e.emailnotfound})}),Object(_.jsx)("label",{htmlFor:"email",children:"Email"}),Object(_.jsxs)("span",{className:"red-text",children:[e.email,e.emailnotfound]})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:F()("",{invalid:e.password||e.passwordincorrect})}),Object(_.jsx)("label",{htmlFor:"password",children:"Password"}),Object(_.jsxs)("span",{className:"red-text",children:[e.password,e.passwordincorrect]})]}),Object(_.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(_.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Login"})})]})]})})})}}var P=Object(O.b)((e=>({auth:e.auth,errors:e.errors})),{loginUser:e=>t=>{h.a.post("/api/users/login",e).then((e=>{const s=e.data.token;localStorage.setItem("jwtToken",s),j(s);const a=Object(o.a)(s);t(u(a))})).catch((e=>t({type:b,payload:e.response.data})))}})(U),W=s(50);var V=Object(O.b)((e=>({auth:e.auth})))((e=>{let t=e.component,s=e.auth,a=Object(W.a)(e,["component","auth"]);return Object(_.jsx)(l.b,Object(N.a)(Object(N.a)({},a),{},{render:e=>!0===s.isAuthenticated?Object(_.jsx)(t,Object(N.a)({},e)):Object(_.jsx)(l.a,{to:"/login"})}))})),z=s(5),B=s.n(z),X=s(14);function $(){return Object(_.jsx)("div",{className:"preloader-wrapper big active",children:Object(_.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(_.jsx)("div",{className:"circle-clipper left",children:Object(_.jsx)("div",{className:"circle"})}),Object(_.jsx)("div",{className:"gap-patch",children:Object(_.jsx)("div",{className:"circle"})}),Object(_.jsx)("div",{className:"circle-clipper right",children:Object(_.jsx)("div",{className:"circle"})})]})})}function G(e){const t=e.rest,s=t.description,a=t.name,n=t._id;return Object(_.jsx)("div",{className:"col s4 m4",children:Object(_.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(_.jsxs)("div",{className:"card-content white-text",children:[Object(_.jsx)("span",{className:"card-title",children:a}),Object(_.jsx)("p",{children:s})]}),Object(_.jsx)("div",{className:"card-action",children:Object(_.jsx)(i.b,{to:"/restaurants/".concat(n),children:"Order Now"})})]})})}class J extends a.Component{constructor(...e){super(...e),this.state={restaurants:[],loading:!1}}componentDidMount(){var e=this;return Object(X.a)(B.a.mark((function t(){var s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,h()("/api/restaurants");case 4:s=t.sent,e.setState({restaurants:s.data,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}render(){const e=this.state,t=e.loading,s=e.restaurants;return 0!==s.length||t?Object(_.jsx)("div",{className:"container",style:{width:"100%"},children:Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"landing-copy col s12 center-align",children:t?Object(_.jsx)($,{}):Object(_.jsx)("div",{className:"row",children:s.map((e=>Object(_.jsx)(G,{rest:e},e._id)))})})})}):Object(_.jsx)("div",{className:"center",children:"No Restaurants Found."})}}var Y=J,H=(s(83),s(36)),q=s.n(H);function K(e){const t=e.onItemAdd,s=e.meal,a=s.description,n=s.name,r=s.price,c=s.total,i=e.onItemRemove;return Object(_.jsx)("div",{className:"col s12 m12",children:Object(_.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(_.jsxs)("div",{className:"card-content white-text",children:[Object(_.jsxs)("span",{className:"card-title",children:[n," - $",r]}),Object(_.jsx)("p",{children:a})]}),Object(_.jsx)("div",{className:"card-action",children:Object(_.jsxs)("a",{className:"waves-effect waves-light btn-small",children:[Object(_.jsx)("i",{onClick:t,className:"material-icons left",children:"add"}),c||0,Object(_.jsx)("i",{onClick:i,className:"material-icons right",children:"remove"})]})})]})})}function Q(e){const t=e.disabled,s=e.onSubmit,a=e.orderTotal;return Object(_.jsxs)("div",{className:"footer-copyright",children:[Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("a",{className:"waves-effect waves-light btn",children:["Order Total: ",a?"$".concat(a):0]})}),a>0&&Object(_.jsxs)("button",{className:"btn waves-effect waves-light ".concat(t?"disabled":null),type:"submit",name:"action",onClick:s,children:["Order Now",Object(_.jsx)("i",{className:"material-icons right",children:"send"})]})]})}class Z extends a.Component{constructor(...e){var t;super(...e),t=this,this.state={meals:[],loading:!1,submitting:!1},this.onIncrement=e=>{const t=this.state.meals,s=t[e].total;this.setState({meals:[...t.slice(0,e),Object(N.a)(Object(N.a)({},t[e]),{},{total:(s||0)+1}),...t.slice(e+1)]})},this.onDecrement=e=>{const t=this.state.meals,s=t[e].total;s&&this.setState({meals:[...t.slice(0,e),Object(N.a)(Object(N.a)({},t[e]),{},{total:s-1}),...t.slice(e+1)]})},this.handleSubmit=Object(X.a)(B.a.mark((function e(){var s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={total_amount:t.orderTotal,_restaurant:t.restaurantId,_meals:[]},t.state.meals.forEach((e=>{e.total&&s._meals.push(e._id)})),t.setState({submitting:!0}),e.prev=3,e.next=6,h.a.post("/api/orders",s);case 6:(0,t.props.history.push)("/orders"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t.setState({submitting:!1}),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))}componentDidMount(){var e=this;return Object(X.a)(B.a.mark((function t(){var s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,h()("/api/restaurants/".concat(e.restaurantId));case 4:s=t.sent,e.setState({meals:s.data._meals,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}get restaurantId(){return q()(this.props.match,"params.id")}get orderTotal(){return this.state.meals.reduce(((e,t)=>e+t.price*(t.total||0)),0)}render(){const e=this.state,t=e.loading,s=e.meals,a=e.submitting;return 0!==s.length||t?Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"row",children:t?Object(_.jsx)($,{}):Object(_.jsx)("footer",{className:"page-footer",children:Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("div",{className:"row",children:(s||[]).map(((e,t)=>Object(_.jsx)(K,{meal:e,onItemAdd:()=>this.onIncrement(t),onItemRemove:()=>this.onDecrement(t)},q()(e,"name"))))}),Object(_.jsx)(Q,{orderTotal:this.orderTotal,disabled:a,onSubmit:this.handleSubmit})]})})})}):Object(_.jsx)("div",{className:"center",children:"No Meals Found."})}}var ee=Z;function te(e){const t=e.order,s=t.description,a=t._restaurant,n=t.status,r=t.total_amount;return Object(_.jsx)("div",{className:"col s4 m4",children:Object(_.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(_.jsxs)("div",{className:"card-content white-text",children:[Object(_.jsx)("span",{className:"card-title",children:a.name}),Object(_.jsx)("p",{children:s})]}),Object(_.jsxs)("div",{className:"card-panel teal lighten-2",children:[["placed","cancelled","processing","in_route","delivered","received"].map((t=>Object(_.jsx)("div",{style:{cursor:"pointer",color:n===t?"green":"unset",fontWeight:n===t?800:"unset"},className:"chip",onClick:()=>e.onStatusChange(t),children:t}))),Object(_.jsxs)("div",{style:{fontWeight:700},children:["Total amt: ",r]})]})]})})}var se=s(26);class ae extends a.Component{constructor(...e){var t;super(...e),t=this,this.state={orders:[],loading:!1},this.onOrderStatusChange=function(){var e=Object(X.a)(B.a.mark((function e(s,a,n){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put("/api/orders/".concat(s),{status:a});case 3:(r=Object(se.cloneDeep)(t.state.orders))[n].status=a,t.setState({orders:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,s,a){return e.apply(this,arguments)}}()}componentDidMount(){var e=this;return Object(X.a)(B.a.mark((function t(){var s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,h()("/api/orders");case 4:s=t.sent,e.setState({orders:s.data,loading:!1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}render(){const e=this.state,t=e.loading,s=e.orders;return 0!==s.length||t?Object(_.jsx)("div",{className:"container",style:{width:"100%"},children:Object(_.jsx)("div",{className:"row",children:Object(_.jsx)("div",{className:"landing-copy col s12 center-align",children:t?Object(_.jsx)($,{}):Object(_.jsx)("div",{className:"row",children:s.map(((e,t)=>Object(_.jsx)(te,{order:e,onStatusChange:s=>this.onOrderStatusChange(e._id,s,t)},e._id)))})})})}):Object(_.jsx)("div",{className:"center",children:"No Orders Found."})}}var ne=ae;function re(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:Object(_.jsx)("input",{onChange:e.onNameChange,value:e.name,type:"text"})}),Object(_.jsx)("td",{children:Object(_.jsx)("input",{onChange:e.onPriceChange,value:e.price,type:"number"})}),Object(_.jsx)("td",{children:Object(_.jsx)("input",{onChange:e.onDescriptionChange,value:e.description,type:"text"})}),e.meals.length>1&&Object(_.jsx)("td",{children:Object(_.jsx)("i",{style:{color:"indianred",cursor:"pointer"},className:"material-icons",onClick:e.onDelete,children:"delete"})})]})}function ce(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:e.onChange,value:e.name,id:"name",type:"text"}),Object(_.jsx)("label",{htmlFor:"name",children:"Restaurant Name"})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:e.onChange,value:e.type,id:"type",type:"text"}),Object(_.jsx)("label",{htmlFor:"type",children:"Restaurant Type"})]}),Object(_.jsxs)("div",{className:"input-field col s12",children:[Object(_.jsx)("input",{onChange:e.onChange,value:e.description,id:"description",type:"text"}),Object(_.jsx)("label",{htmlFor:"description",children:"Restaurant Description"})]})]})}function ie(e){return Object(_.jsxs)("table",{children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Name"}),Object(_.jsx)("th",{children:"Price"}),Object(_.jsx)("th",{children:"Description"})]})}),Object(_.jsx)("tbody",{children:e.meals.map(e.render)})]})}class le extends a.Component{constructor(...e){var t;super(...e),t=this,this.state={userInfo:{},_meals:[{name:"",price:0,description:""}]},this.onChange=e=>{this.setState({[e.target.id]:e.target.value})},this.onAdd=()=>{const e=this.state._meals;this.setState({_meals:[...e,{name:"",price:0,description:""}]})},this.onDelete=e=>{const t=this.state._meals;this.setState({_meals:[...t.slice(0,e),...t.slice(e+1)]})},this.onRowDataChange=(e,t,s)=>{const a=[...this.state._meals];this.setState({_meals:[...a.slice(0,s),Object(N.a)(Object(N.a)({},a[s]),{},{[t]:e.target.value}),...a.slice(s+1)]})},this.onSubmit=function(){var e=Object(X.a)(B.a.mark((function e(s){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t.setState({loading:!0}),e.prev=2,e.next=5,h.a.post("/api/restaurants",Object(se.pick)(t.state,["name","type","description","_meals"]));case 5:alert("Restaurant ".concat(t.state.name," successfully created.")),t.props.history.push("/restaurants"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t.setState({loading:!1}),alert("Restaurant creation failed");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}componentDidMount(){var e=this;return Object(X.a)(B.a.mark((function t(){var s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,h()("/api/users");case 3:s=t.sent,e.setState({userInfo:s.data,loading:!1});case 5:case"end":return t.stop()}}),t)})))()}render(){const e=this.state,t=e.name,s=e.type,a=e.description,n=e.userInfo,r=e._meals;return e.loading?Object(_.jsx)($,{}):"manager"!==n.role?"You are not authorized.":Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"row",children:Object(_.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(_.jsx)(ce,{onChange:this.onChange,name:t,type:s,description:a}),Object(_.jsx)("h3",{children:"Meals"}),Object(_.jsx)(ie,{meals:r,render:(e,t)=>{const s=e.price,a=e.description,n=e.name;return Object(_.jsx)(re,{onNameChange:e=>this.onRowDataChange(e,"name",t),name:n,onPriceChange:e=>this.onRowDataChange(e,"price",t),price:s,onDescriptionChange:e=>this.onRowDataChange(e,"description",t),description:a,meals:r,onDelete:()=>this.onDelete(t)},t)}}),Object(_.jsx)("a",{onClick:this.onAdd,className:"btn-floating btn-large waves-effect waves-light red",children:Object(_.jsx)("i",{className:"material-icons",children:"add"})}),Object(_.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(_.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Create Restaurant"})})]})})})}}var oe=Object(O.b)((e=>({auth:e.auth})))(le);if(localStorage.jwtToken){const e=localStorage.jwtToken;j(e);const t=Object(o.a)(e);k.dispatch(u(t));const s=Date.now()/1e3;t.exp<s&&(k.dispatch(x()),window.location.href="./login")}class de extends a.Component{render(){return Object(_.jsx)(O.a,{store:k,children:Object(_.jsx)(i.a,{children:Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(T,{}),Object(_.jsx)(l.b,{exact:!0,path:"/",component:I}),Object(_.jsx)(l.b,{exact:!0,path:"/register",component:M}),Object(_.jsx)(l.b,{exact:!0,path:"/login",component:P}),Object(_.jsxs)(l.d,{children:[Object(_.jsx)(V,{exact:!0,path:"/restaurants",component:Y}),Object(_.jsx)(V,{exact:!0,path:"/restaurants/create",component:oe}),Object(_.jsx)(V,{exact:!0,path:"/restaurants/:id",component:ee}),Object(_.jsx)(V,{exact:!0,path:"/orders",component:ne})]})]})})})}}var he=de;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(_.jsx)(he,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},55:function(e,t,s){},79:function(e,t,s){},83:function(e,t,s){}},[[126,1,2]]]);
//# sourceMappingURL=main.a7da9f6d.chunk.js.map