{"version":3,"sources":["utils/setAuthToken.js","actions/types.js","actions/authActions.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/index.js","store.js","components/layout/NavBarList.js","components/layout/Navbar.js","components/layout/Landing.js","components/auth/Register.js","components/auth/Login.js","components/private-route/PrivateRoute.js","components/Loader.js","components/restaurant/RestaurantCard.js","components/restaurant/Restaurants.js","components/meals/MealCard.js","components/meals/OrderFooter.js","components/meals/Meals.js","components/orders/OrderCard.js","components/orders/Orders.js","components/meals/MealRow.js","components/restaurant/RestaurantDetails.js","components/meals/MealTable.js","components/restaurant/CreateRestaurant.js","App.js","serviceWorker.js","index.js"],"names":["setAuthToken","token","axios","defaults","headers","common","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","setCurrentUser","decoded","type","payload","logoutUser","dispatch","localStorage","removeItem","isEmpty","require","initialState","isAuthenticated","user","loading","combineReducers","auth","state","action","errors","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","NavBarList","props","to","name","split","onClick","NavBar","Component","onLogoutClick","e","preventDefault","this","render","Fragment","className","data-target","Object","keys","length","id","connect","Landing","style","height","fontFamily","width","borderRadius","letterSpacing","Register","constructor","super","onChange","setState","target","value","onSubmit","password","role","password2","email","newUser","history","registerUserAction","registerUser","onCheckboxChange","checked","componentDidMount","push","componentWillReceiveProps","nextProps","paddingLeft","noValidate","error","classnames","invalid","htmlFor","margin","marginTop","userData","post","then","res","catch","err","response","data","withRouter","Login","loginUser","emailnotfound","passwordincorrect","setItem","jwt_decode","component","rest","Loader","RestaurantCard","description","_id","Restaurants","restaurants","console","map","MealCard","onItemAdd","meal","price","total","onItemRemove","OrderFooter","disabled","orderTotal","Meals","meals","submitting","onIncrement","index","slice","onDecrement","handleSubmit","a","total_amount","_restaurant","restaurantId","_meals","forEach","get","match","reduce","OrderCard","order","status","stat","cursor","color","fontWeight","onStatusChange","Orders","orders","onOrderStatusChange","orderId","put","cloneDeep","MealRow","onNameChange","onPriceChange","onDescriptionChange","onDelete","RestaurantDetails","MealTable","CreateRestaurant","userInfo","onAdd","onRowDataChange","field","pick","alert","mealDesc","mealName","jwtToken","currentTime","Date","now","exp","location","href","App","Navbar","exact","path","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a7da9f6d.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // Apply authorization token to every request if logged in\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;\r\n","export const GET_ERRORS = \"GET_ERRORS\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\n","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/setAuthToken\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport { GET_ERRORS, SET_CURRENT_USER, USER_LOADING } from \"./types\";\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/users/register\", userData)\r\n    .then(res => history.push(\"/login\"))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Login - get user token\r\nexport const loginUser = userData => dispatch => {\r\n  axios\r\n    .post(\"/api/users/login\", userData)\r\n    .then(res => {\r\n      // Save to localStorage\r\n\r\n      // Set token to localStorage\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      // Set token to Auth header\r\n      setAuthToken(token);\r\n      // Decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // Set current user\r\n      dispatch(setCurrentUser(decoded));\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\n// User loading\r\nexport const setUserLoading = () => {\r\n  return {\r\n    type: USER_LOADING\r\n  };\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n  // Remove token from local storage\r\n  localStorage.removeItem(\"jwtToken\");\r\n  // Remove auth header for future requests\r\n  setAuthToken(false);\r\n  // Set current user to empty object {} which will set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n};\r\n","import { SET_CURRENT_USER, USER_LOADING } from \"../actions/types\";\r\n\r\nconst isEmpty = require(\"is-empty\");\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  loading: false\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload\r\n      };\r\n    case USER_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  errors: errorReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()) ||\r\n      compose\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import { Link } from \"react-router-dom\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function NavBarList(props) {\r\n  return (\r\n    <>\r\n      <li>\r\n        <Link to=\"/restaurants/create\">Create Restaurants And Meals</Link>\r\n      </li>\r\n\r\n      <li>\r\n        <Link to=\"/restaurants\">All Restaurants</Link>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/orders\">Your Orders</Link>\r\n      </li>\r\n      <li>\r\n        <b>Hey there,</b> {(props.user.name || \"\").split(\" \")[0]}\r\n      </li>\r\n      <li>\r\n        {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n        <a onClick={props.onClick}>Logout</a>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nNavBarList.propTypes = {\r\n  user: PropTypes.any,\r\n  onClick: PropTypes.func\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../../actions/authActions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\nimport { NavBarList } from \"./NavBarList\";\r\n\r\nclass NavBar extends Component {\r\n  onLogoutClick = e => {\r\n    e.preventDefault();\r\n    this.props.logoutUser();\r\n  };\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"navbar-fixed\">\r\n          <nav className=\"z-depth-0\">\r\n            <div className=\"nav-wrapper\">\r\n              <Link to=\"/\" className=\"brand-logo\">\r\n                <i className=\"material-icons\">code</i>Tomato\r\n              </Link>\r\n              <div\r\n                data-target=\"mobile-demo\"\r\n                className=\"sidenav-trigger show-on-med-and-down\"\r\n              >\r\n                <i className=\"material-icons\">menu</i>\r\n              </div>\r\n              {Object.keys(user || {}).length !== 0 ? (\r\n                <ul\r\n                  id=\"nav-mobile\"\r\n                  className=\"right hide-on-med-and-down list-margin\"\r\n                >\r\n                  <NavBarList user={user} onClick={this.onLogoutClick} />\r\n                </ul>\r\n              ) : null}\r\n            </div>\r\n          </nav>\r\n        </div>\r\n        <ul className=\"sidenav\" id=\"mobile-demo\">\r\n          <NavBarList user={user} onClick={this.onLogoutClick} />\r\n        </ul>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser })(NavBar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Landing extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\r\n        <div className=\"row\">\r\n          <div className=\"col s12 center-align\">\r\n            <h4>\r\n              Order food from{\" \"}\r\n              <span style={{ fontFamily: \"monospace\" }}>Tomato</span>\r\n            </h4>\r\n            <br />\r\n            <div className=\"col s6\">\r\n              <Link\r\n                to=\"/register\"\r\n                style={{\r\n                  width: \"140px\",\r\n                  borderRadius: \"3px\",\r\n                  letterSpacing: \"1.5px\"\r\n                }}\r\n                className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n              >\r\n                Register\r\n              </Link>\r\n            </div>\r\n            <div className=\"col s6\">\r\n              <Link\r\n                to=\"/login\"\r\n                style={{\r\n                  width: \"140px\",\r\n                  borderRadius: \"3px\",\r\n                  letterSpacing: \"1.5px\"\r\n                }}\r\n                className=\"btn btn-large btn-flat waves-effect white black-text\"\r\n              >\r\n                Log In\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Landing;\r\n","import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      errors: {},\r\n      role: \"user\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // If logged in and user navigates to Register page, should redirect them to restaurants\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/restaurants\");\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({\r\n        errors: nextProps.errors\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { password, role, password2, email, name } = this.state;\r\n    const newUser = {\r\n      name: name,\r\n      email: email,\r\n      password: password,\r\n      password2: password2,\r\n      role: role\r\n    };\r\n\r\n    const { history, registerUser: registerUserAction } = this.props;\r\n    registerUserAction(newUser, history);\r\n  };\r\n\r\n  onCheckboxChange = e => {\r\n    this.setState({ role: e.target.checked ? \"manager\" : \"user\" });\r\n  };\r\n\r\n  render() {\r\n    const { password, role, password2, email, name, errors } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col s8 offset-s2\">\r\n            <Link to=\"/\" className=\"btn-flat waves-effect\">\r\n              <i className=\"material-icons left\">keyboard_backspace</i> Back to\r\n              home\r\n            </Link>\r\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n              <h4>\r\n                <b>Register</b> below\r\n              </h4>\r\n              <p className=\"grey-text text-darken-1\">\r\n                Already have an account? <Link to=\"/login\">Log in</Link>\r\n              </p>\r\n            </div>\r\n            <form noValidate onSubmit={this.onSubmit}>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={name}\r\n                  error={errors.name}\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.name\r\n                  })}\r\n                />\r\n                <label htmlFor=\"name\">Name</label>\r\n                <span className=\"red-text\">{errors.name}</span>\r\n              </div>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={email}\r\n                  error={errors.email}\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.email\r\n                  })}\r\n                />\r\n                <label htmlFor=\"email\">Email</label>\r\n                <span className=\"red-text\">{errors.email}</span>\r\n              </div>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={password}\r\n                  error={errors.password}\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.password\r\n                  })}\r\n                />\r\n                <label htmlFor=\"password\">Password</label>\r\n                <span className=\"red-text\">{errors.password}</span>\r\n              </div>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={password2}\r\n                  error={errors.password2}\r\n                  id=\"password2\"\r\n                  type=\"password\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.password2\r\n                  })}\r\n                />\r\n                <label htmlFor=\"password2\">Confirm Password</label>\r\n                <span className=\"red-text\">{errors.password2}</span>\r\n              </div>\r\n\r\n              <label style={{ margin: 15 }} htmlFor=\"role\">\r\n                <input\r\n                  onChange={this.onCheckboxChange}\r\n                  value={role === \"manager\"}\r\n                  error={errors.role}\r\n                  id=\"role\"\r\n                  type=\"checkbox\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.role\r\n                  })}\r\n                />\r\n                <span> Is Restaurant Manager</span>\r\n              </label>\r\n              <span className=\"red-text\">{errors.role}</span>\r\n\r\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                <button\r\n                  style={{\r\n                    width: \"150px\",\r\n                    borderRadius: \"3px\",\r\n                    letterSpacing: \"1.5px\",\r\n                    marginTop: \"1rem\"\r\n                  }}\r\n                  type=\"submit\"\r\n                  className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                >\r\n                  Sign up\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTypes = {\r\n  registerUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { registerUser })(withRouter(Register));\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // If logged in and user navigates to Login page, should redirect them to restaurants\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/restaurants\");\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/restaurants\");\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({\r\n        errors: nextProps.errors\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    this.props.loginUser(userData);\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div style={{ marginTop: \"4rem\" }} className=\"row\">\r\n          <div className=\"col s8 offset-s2\">\r\n            <Link to=\"/\" className=\"btn-flat waves-effect\">\r\n              <i className=\"material-icons left\">keyboard_backspace</i> Back to\r\n              home\r\n            </Link>\r\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n              <h4>\r\n                <b>Login</b> below\r\n              </h4>\r\n              <p className=\"grey-text text-darken-1\">\r\n                Don't have an account? <Link to=\"/register\">Register</Link>\r\n              </p>\r\n            </div>\r\n            <form noValidate onSubmit={this.onSubmit}>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={this.state.email}\r\n                  error={errors.email}\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.email || errors.emailnotfound\r\n                  })}\r\n                />\r\n                <label htmlFor=\"email\">Email</label>\r\n                <span className=\"red-text\">\r\n                  {errors.email}\r\n                  {errors.emailnotfound}\r\n                </span>\r\n              </div>\r\n              <div className=\"input-field col s12\">\r\n                <input\r\n                  onChange={this.onChange}\r\n                  value={this.state.password}\r\n                  error={errors.password}\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  className={classnames(\"\", {\r\n                    invalid: errors.password || errors.passwordincorrect\r\n                  })}\r\n                />\r\n                <label htmlFor=\"password\">Password</label>\r\n                <span className=\"red-text\">\r\n                  {errors.password}\r\n                  {errors.passwordincorrect}\r\n                </span>\r\n              </div>\r\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                <button\r\n                  style={{\r\n                    width: \"150px\",\r\n                    borderRadius: \"3px\",\r\n                    letterSpacing: \"1.5px\",\r\n                    marginTop: \"1rem\"\r\n                  }}\r\n                  type=\"submit\"\r\n                  className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                >\r\n                  Login\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { loginUser })(Login);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/login\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from \"react\";\r\n\r\nexport function Loader() {\r\n  return (\r\n    <div className=\"preloader-wrapper big active\">\r\n      <div className=\"spinner-layer spinner-blue-only\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n        <div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n        <div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function RestaurantCard(props) {\r\n  const { description, name, _id } = props.rest;\r\n  return (\r\n    <div className=\"col s4 m4\">\r\n      <div className=\"card blue-grey darken-1\">\r\n        <div className=\"card-content white-text\">\r\n          <span className=\"card-title\">{name}</span>\r\n          <p>{description}</p>\r\n        </div>\r\n        <div className=\"card-action\">\r\n          <Link to={`/restaurants/${_id}`}>Order Now</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nRestaurantCard.propTypes = { rest: PropTypes.any };\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Loader } from \"../Loader\";\r\nimport { RestaurantCard } from \"./RestaurantCard\";\r\n\r\nclass Restaurants extends Component {\r\n  state = { restaurants: [], loading: false };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setState({ loading: true });\r\n      const response = await axios(\"/api/restaurants\");\r\n      this.setState({ restaurants: response.data, loading: false });\r\n    } catch (e) {\r\n      console.error(e);\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loading, restaurants } = this.state;\r\n\r\n    if (restaurants.length === 0 && !loading)\r\n      return <div className=\"center\">No Restaurants Found.</div>;\r\n\r\n    return (\r\n      <div className=\"container\" style={{ width: \"100%\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"landing-copy col s12 center-align\">\r\n            {loading ? (\r\n              <Loader />\r\n            ) : (\r\n              <div className=\"row\">\r\n                {restaurants.map(rest => (\r\n                  <RestaurantCard key={rest._id} rest={rest} />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Restaurants;\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function MealCard(props) {\r\n  const {\r\n    onItemAdd,\r\n    meal: { description, name, price, total },\r\n    onItemRemove\r\n  } = props;\r\n  return (\r\n    <div className=\"col s12 m12\">\r\n      <div className=\"card blue-grey darken-1\">\r\n        <div className=\"card-content white-text\">\r\n          <span className=\"card-title\">\r\n            {name} - ${price}\r\n          </span>\r\n          <p>{description}</p>\r\n        </div>\r\n        <div className=\"card-action\">\r\n          <a className=\"waves-effect waves-light btn-small\">\r\n            <i onClick={onItemAdd} className=\"material-icons left\">\r\n              add\r\n            </i>\r\n            {total || 0}\r\n            <i onClick={onItemRemove} className=\"material-icons right\">\r\n              remove\r\n            </i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMealCard.propTypes = {\r\n  meal: PropTypes.any,\r\n  onItemAdd: PropTypes.func,\r\n  onItemRemove: PropTypes.func\r\n};\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function OrderFooter(props) {\r\n  const { disabled, onSubmit, orderTotal } = props;\r\n  return (\r\n    <div className=\"footer-copyright\">\r\n      <div className=\"container\">\r\n        <a className=\"waves-effect waves-light btn\">\r\n          Order Total: {orderTotal ? `$${orderTotal}` : 0}\r\n        </a>\r\n      </div>\r\n      {orderTotal > 0 && (\r\n        <button\r\n          className={`btn waves-effect waves-light ${\r\n            disabled ? \"disabled\" : null\r\n          }`}\r\n          type=\"submit\"\r\n          name=\"action\"\r\n          onClick={onSubmit}\r\n        >\r\n          Order Now<i className=\"material-icons right\">send</i>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nOrderFooter.propTypes = {\r\n  orderTotal: PropTypes.any,\r\n  disabled: PropTypes.bool,\r\n  onSubmit: PropTypes.func\r\n};\r\n","import React, { Component } from \"react\";\r\nimport get from \"lodash/get\";\r\nimport axios from \"axios\";\r\n\r\nimport { Loader } from \"../Loader\";\r\nimport { MealCard } from \"./MealCard\";\r\nimport { OrderFooter } from \"./OrderFooter\";\r\n\r\nclass Meals extends Component {\r\n  state = { meals: [], loading: false, submitting: false };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setState({ loading: true });\r\n      const response = await axios(`/api/restaurants/${this.restaurantId}`);\r\n      this.setState({ meals: response.data._meals, loading: false });\r\n    } catch (e) {\r\n      console.error(e);\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  onIncrement = index => {\r\n    const { meals } = this.state;\r\n    const { total } = meals[index];\r\n    this.setState({\r\n      meals: [\r\n        ...meals.slice(0, index),\r\n        { ...meals[index], total: (total || 0) + 1 },\r\n        ...meals.slice(index + 1)\r\n      ]\r\n    });\r\n  };\r\n\r\n  onDecrement = index => {\r\n    const { meals } = this.state;\r\n    const { total } = meals[index];\r\n    if (!total) return;\r\n    this.setState({\r\n      meals: [\r\n        ...meals.slice(0, index),\r\n        { ...meals[index], total: total - 1 },\r\n        ...meals.slice(index + 1)\r\n      ]\r\n    });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const payload = {\r\n      total_amount: this.orderTotal,\r\n      _restaurant: this.restaurantId,\r\n      _meals: []\r\n    };\r\n    this.state.meals.forEach(meal => {\r\n      if (meal.total) payload._meals.push(meal._id);\r\n    });\r\n    this.setState({ submitting: true });\r\n    try {\r\n      await axios.post(\"/api/orders\", payload);\r\n      const { push } = this.props.history;\r\n      push(\"/orders\");\r\n    } catch (e) {\r\n      this.setState({ submitting: false });\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  get restaurantId() {\r\n    return get(this.props.match, \"params.id\");\r\n  }\r\n\r\n  get orderTotal() {\r\n    return this.state.meals.reduce((total, meal) => {\r\n      return total + meal.price * (meal.total || 0);\r\n    }, 0);\r\n  }\r\n\r\n  render() {\r\n    const { loading, meals, submitting } = this.state;\r\n\r\n    if (meals.length === 0 && !loading)\r\n      return <div className=\"center\">No Meals Found.</div>;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {loading ? (\r\n            <Loader />\r\n          ) : (\r\n            <footer className=\"page-footer\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  {(meals || []).map((meal, index) => (\r\n                    <MealCard\r\n                      key={get(meal, \"name\")}\r\n                      meal={meal}\r\n                      onItemAdd={() => this.onIncrement(index)}\r\n                      onItemRemove={() => this.onDecrement(index)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n                <OrderFooter\r\n                  orderTotal={this.orderTotal}\r\n                  disabled={submitting}\r\n                  onSubmit={this.handleSubmit}\r\n                />\r\n              </div>\r\n            </footer>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Meals;\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function OrderCard(props) {\r\n  const { description, _restaurant, status, total_amount } = props.order;\r\n  return (\r\n    <div className=\"col s4 m4\">\r\n      <div className=\"card blue-grey darken-1\">\r\n        <div className=\"card-content white-text\">\r\n          <span className=\"card-title\">{_restaurant.name}</span>\r\n          <p>{description}</p>\r\n        </div>\r\n        <div className=\"card-panel teal lighten-2\">\r\n          {[\r\n            \"placed\",\r\n            \"cancelled\",\r\n            \"processing\",\r\n            \"in_route\",\r\n            \"delivered\",\r\n            \"received\"\r\n          ].map(stat => (\r\n            <div\r\n              style={{\r\n                cursor: \"pointer\",\r\n                color: status === stat ? \"green\" : \"unset\",\r\n                fontWeight: status === stat ? 800 : \"unset\"\r\n              }}\r\n              className=\"chip\"\r\n              onClick={() => props.onStatusChange(stat)}\r\n            >\r\n              {stat}\r\n            </div>\r\n          ))}\r\n          <div style={{ fontWeight: 700 }}>Total amt: {total_amount}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nOrderCard.propTypes = { order: PropTypes.any };\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Loader } from \"../Loader\";\r\nimport { OrderCard } from \"./OrderCard\";\r\nimport { cloneDeep } from \"lodash\";\r\n\r\nclass Orders extends Component {\r\n  state = { orders: [], loading: false };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setState({ loading: true });\r\n      const response = await axios(\"/api/orders\");\r\n      this.setState({ orders: response.data, loading: false });\r\n    } catch (e) {\r\n      console.error(e);\r\n      this.setState({ loading: false });\r\n    }\r\n  }\r\n\r\n  onOrderStatusChange = async (orderId, status, index) => {\r\n    try {\r\n      await axios.put(`/api/orders/${orderId}`, { status });\r\n      const orders = cloneDeep(this.state.orders);\r\n      orders[index].status = status;\r\n      this.setState({ orders });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loading, orders } = this.state;\r\n\r\n    if (orders.length === 0 && !loading)\r\n      return <div className=\"center\">No Orders Found.</div>;\r\n\r\n    return (\r\n      <div className=\"container\" style={{ width: \"100%\" }}>\r\n        <div className=\"row\">\r\n          <div className=\"landing-copy col s12 center-align\">\r\n            {loading ? (\r\n              <Loader />\r\n            ) : (\r\n              <div className=\"row\">\r\n                {orders.map((rest, index) => (\r\n                  <OrderCard\r\n                    key={rest._id}\r\n                    order={rest}\r\n                    onStatusChange={status =>\r\n                      this.onOrderStatusChange(rest._id, status, index)\r\n                    }\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Orders;\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function MealRow(props) {\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <input onChange={props.onNameChange} value={props.name} type=\"text\" />\r\n      </td>\r\n      <td>\r\n        <input\r\n          onChange={props.onPriceChange}\r\n          value={props.price}\r\n          type=\"number\"\r\n        />\r\n      </td>\r\n      <td>\r\n        <input\r\n          onChange={props.onDescriptionChange}\r\n          value={props.description}\r\n          type=\"text\"\r\n        />\r\n      </td>\r\n      {props.meals.length > 1 && (\r\n        <td>\r\n          <i\r\n            style={{ color: \"indianred\", cursor: \"pointer\" }}\r\n            className=\"material-icons\"\r\n            onClick={props.onDelete}\r\n          >\r\n            delete\r\n          </i>\r\n        </td>\r\n      )}\r\n    </tr>\r\n  );\r\n}\r\n\r\nMealRow.propTypes = {\r\n  onNameChange: PropTypes.func,\r\n  name: PropTypes.any,\r\n  onPriceChange: PropTypes.func,\r\n  price: PropTypes.any,\r\n  onDescriptionChange: PropTypes.func,\r\n  description: PropTypes.any,\r\n  meals: PropTypes.any,\r\n  onDelete: PropTypes.func\r\n};\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function RestaurantDetails(props) {\r\n  return (\r\n    <>\r\n      <div className=\"input-field col s12\">\r\n        <input\r\n          onChange={props.onChange}\r\n          value={props.name}\r\n          id=\"name\"\r\n          type=\"text\"\r\n        />\r\n        <label htmlFor=\"name\">Restaurant Name</label>\r\n      </div>\r\n      <div className=\"input-field col s12\">\r\n        <input\r\n          onChange={props.onChange}\r\n          value={props.type}\r\n          id=\"type\"\r\n          type=\"text\"\r\n        />\r\n        <label htmlFor=\"type\">Restaurant Type</label>\r\n      </div>\r\n      <div className=\"input-field col s12\">\r\n        <input\r\n          onChange={props.onChange}\r\n          value={props.description}\r\n          id=\"description\"\r\n          type=\"text\"\r\n        />\r\n        <label htmlFor=\"description\">Restaurant Description</label>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nRestaurantDetails.propTypes = {\r\n  onChange: PropTypes.func,\r\n  name: PropTypes.any,\r\n  type: PropTypes.any,\r\n  description: PropTypes.any\r\n};\r\n","import * as PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nexport function MealTable(props) {\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Price</th>\r\n          <th>Description</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{props.meals.map(props.render)}</tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nMealTable.propTypes = {\r\n  meals: PropTypes.any,\r\n  render: PropTypes.func\r\n};\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { Loader } from \"../Loader\";\r\nimport { pick } from \"lodash\";\r\nimport { MealRow } from \"../meals/MealRow\";\r\nimport { RestaurantDetails } from \"./RestaurantDetails\";\r\nimport { MealTable } from \"../meals/MealTable\";\r\n\r\nclass CreateRestaurant extends Component {\r\n  state = { userInfo: {}, _meals: [{ name: \"\", price: 0, description: \"\" }] };\r\n\r\n  async componentDidMount() {\r\n    this.setState({ loading: true });\r\n    const response = await axios(\"/api/users\");\r\n    this.setState({ userInfo: response.data, loading: false });\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onAdd = () => {\r\n    const { _meals } = this.state;\r\n    this.setState({\r\n      _meals: [..._meals, { name: \"\", price: 0, description: \"\" }]\r\n    });\r\n  };\r\n\r\n  onDelete = index => {\r\n    const { _meals } = this.state;\r\n    this.setState({\r\n      _meals: [..._meals.slice(0, index), ..._meals.slice(index + 1)]\r\n    });\r\n  };\r\n\r\n  onRowDataChange = (e, field, index) => {\r\n    const meals = [...this.state._meals];\r\n    this.setState({\r\n      _meals: [\r\n        ...meals.slice(0, index),\r\n        { ...meals[index], [field]: e.target.value },\r\n        ...meals.slice(index + 1)\r\n      ]\r\n    });\r\n  };\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    this.setState({ loading: true });\r\n    try {\r\n      await axios.post(\r\n        \"/api/restaurants\",\r\n        pick(this.state, [\"name\", \"type\", \"description\", \"_meals\"])\r\n      );\r\n      alert(`Restaurant ${this.state.name} successfully created.`);\r\n      this.props.history.push(\"/restaurants\");\r\n    } catch (e) {\r\n      this.setState({ loading: false });\r\n      alert(\"Restaurant creation failed\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { name, type, description, userInfo, _meals, loading } = this.state;\r\n    if (loading) return <Loader />;\r\n    if (userInfo.role !== \"manager\") return \"You are not authorized.\";\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <form noValidate onSubmit={this.onSubmit}>\r\n            <RestaurantDetails\r\n              onChange={this.onChange}\r\n              name={name}\r\n              type={type}\r\n              description={description}\r\n            />\r\n            <h3>Meals</h3>\r\n            <MealTable\r\n              meals={_meals}\r\n              render={(meal, index) => {\r\n                const { price, description: mealDesc, name: mealName } = meal;\r\n                return (\r\n                  <MealRow\r\n                    key={index}\r\n                    onNameChange={e => this.onRowDataChange(e, \"name\", index)}\r\n                    name={mealName}\r\n                    onPriceChange={e => this.onRowDataChange(e, \"price\", index)}\r\n                    price={price}\r\n                    onDescriptionChange={e =>\r\n                      this.onRowDataChange(e, \"description\", index)\r\n                    }\r\n                    description={mealDesc}\r\n                    meals={_meals}\r\n                    onDelete={() => this.onDelete(index)}\r\n                  />\r\n                );\r\n              }}\r\n            />\r\n            <a\r\n              onClick={this.onAdd}\r\n              className=\"btn-floating btn-large waves-effect waves-light red\"\r\n            >\r\n              <i className=\"material-icons\">add</i>\r\n            </a>\r\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n              <button\r\n                style={{\r\n                  width: \"150px\",\r\n                  borderRadius: \"3px\",\r\n                  letterSpacing: \"1.5px\",\r\n                  marginTop: \"1rem\"\r\n                }}\r\n                type=\"submit\"\r\n                className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\"\r\n              >\r\n                Create Restaurant\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(CreateRestaurant);\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\n\r\nimport { setCurrentUser, logoutUser } from \"./actions/authActions\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nimport Navbar from \"./components/layout/Navbar\";\r\nimport Landing from \"./components/layout/Landing\";\r\nimport Register from \"./components/auth/Register\";\r\nimport Login from \"./components/auth/Login\";\r\nimport PrivateRoute from \"./components/private-route/PrivateRoute\";\r\nimport Restaurants from \"./components/restaurant/Restaurants\";\r\n\r\nimport \"./App.css\";\r\nimport Meals from \"./components/meals/Meals\";\r\nimport Orders from \"./components/orders/Orders\";\r\nimport CreateRestaurant from \"./components/restaurant/CreateRestaurant\";\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n}\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Navbar />\r\n            <Route exact path=\"/\" component={Landing} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Switch>\r\n              <PrivateRoute exact path=\"/restaurants\" component={Restaurants} />\r\n              <PrivateRoute\r\n                exact\r\n                path=\"/restaurants/create\"\r\n                component={CreateRestaurant}\r\n              />\r\n              <PrivateRoute exact path=\"/restaurants/:id\" component={Meals} />\r\n              <PrivateRoute exact path=\"/orders\" component={Orders} />\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}